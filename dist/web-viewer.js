!function(t){var s={};function e(i){if(s[i])return s[i].exports;var r=s[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}e.m=t,e.c=s,e.d=function(t,s,i){e.o(t,s)||Object.defineProperty(t,s,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,s){if(1&s&&(t=e(t)),8&s)return t;if(4&s&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&s&&"string"!=typeof t)for(var r in t)e.d(i,r,function(s){return t[s]}.bind(null,r));return i},e.n=function(t){var s=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(s,"a",s),s},e.o=function(t,s){return Object.prototype.hasOwnProperty.call(t,s)},e.p="",e(e.s=15)}([function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2);class r{constructor(t=0,s=0,e=0,i=1){this.x=t,this.y=s,this.z=e,this.w=i,this.dims=4}add(t){return new r(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}sub(t){return new r(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}mul(t){return new r(this.x*t.x,this.y*t.y,this.z*t.z,this.w*t.w)}times(t){return new r(this.x*t,this.y*t,this.z*t,this.w*t)}div(t){return new r(this.x/t.x,this.y/t.y,this.z/t.z,this.w/t.w)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2)+Math.pow(this.w,2))}normalize(){return this.times(1/this.mag())}reflect(t){return t.times(2*this.dot(t)).sub(this)}addTimes(t,s){return new r(this.x+t.x*s,this.y+t.y*s,this.z+t.z*s,this.w+t.w*s)}equals(t,s=i.EPS){return Math.abs(this.x-t.x)<s&&Math.abs(this.y-t.y)<s&&Math.abs(this.z-t.z)<s&&Math.abs(this.w-t.w)<s}get r(){return this.x}set r(t){this.x=t}get g(){return this.y}set g(t){this.y=t}get b(){return this.z}set b(t){this.z=t}get a(){return this.w}set a(t){this.w=t}}s.Vec4=r},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.degrees=(t=>57.29577951308232*t%360),s.radians=(t=>.017453292519943295*t%6.283185307179586),s.clamp=((t,s,e)=>Math.max(Math.min(t,e),s)),s.parallelogramArea=function(t,s,e){return(s.x-t.x)*(e.y-t.y)-(e.x-t.x)*(s.y-t.y)},s.interpolableAdd=function(t,s){return"number"==typeof t?t+s:t.add(s)},s.interpolableTimes=function(t,s){return"number"==typeof t?t*s:t.times(s)},s.interpolableMul=function(t,s){return"number"==typeof t?t*s:t.mul(s)},s.interpolableAddTimes=function(t,s,e){return"number"==typeof t?t+s*e:t.addTimes(s,e)},s.fillSequence=function(t,s){t.set(s);const e=t.length;let i=s.length;for(;i<e;)t.copyWithin(i,0,i),i<<=1;return t}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(5);function r(t,s){if("string"!=typeof s)return;const e=t[s];if(e instanceof Function)return e;const r=s.split("");if(s.length>1&&s.length<5){const s=r.map(s=>t[s]);return 1===s.length?s[0]:i.vec(...s)}return e}s.EPS=Math.pow(10,-6),s.swizzle=function(t,s){return void 0!==s?r(t,s):new Proxy(t,{get:r})}},function(t,s,e){"use strict";function i(t){for(var e in t)s.hasOwnProperty(e)||(s[e]=t[e])}Object.defineProperty(s,"__esModule",{value:!0}),i(e(4)),i(e(17)),i(e(12)),i(e(18)),i(e(10)),i(e(1)),i(e(8)),i(e(19)),i(e(20)),i(e(6)),i(e(7)),i(e(0)),i(e(11)),i(e(5)),i(e(2)),i(e(9)),i(e(13)),i(e(14)),i(e(21))},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(10),r=e(1),n=e(0);s.Bitmap=class{constructor(t,s){this._width=t,this._height=s,this._data=new Uint8ClampedArray(this._width*this._height*4)}clear(t=i.colors.black){r.fillSequence(this.data,[255*t.r,255*t.g,255*t.b,255*t.a])}_set(t,s,e){const i=4*(t+s*this._width);this._data[i]=255*e.r,this._data[i+1]=255*e.g,this._data[i+2]=255*e.b,this._data[i+3]=255*e.a}get width(){return this._width}get height(){return this._height}resize(t,s){this._width=t,this._height=s,this._data=new Uint8ClampedArray(this._width*this._height*4)}get data(){return this._data}read(t,s){const e=4*(t+s*this._width);return new n.Vec4(this._data[e]/255,this._data[e+1]/255,this._data[e+2]/255,this._data[e+3]/255)}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(6),r=e(7),n=e(0),h=e(11),_=e(8);s.vec2=function(...t){switch(t.length){case 0:return new i.Vec2(0,0);case 1:return"number"==typeof t[0]?new i.Vec2(t[0],t[0]):new i.Vec2(t[0].x,t[0].y);case 2:default:return new i.Vec2(t[0],t[1])}},s.vec3=function(...t){switch(t.length){case 0:return new r.Vec3(0,0,0);case 1:if("number"==typeof t[0])return new r.Vec3(t[0],t[0],t[0]);switch(t[0].dims){case 2:return new n.Vec4(t[0].x,t[0].y,0);case 3:case 4:default:return new r.Vec3(t[0].x,t[0].y,t[0].z)}case 2:return new r.Vec3(t[0],t[1],0);default:return new r.Vec3(t[0],t[1],t[2])}},s.vec4=function(...t){switch(t.length){case 0:return new n.Vec4(0,0,0,0);case 1:if("number"==typeof t[0])return new n.Vec4(t[0],t[0],t[0],t[0]);switch(t[0].dims){case 2:return new n.Vec4(t[0].x,t[0].y,t[0].x,t[0].y);case 3:return new n.Vec4(t[0].x,t[0].y,t[0].z,1);case 4:return new n.Vec4(t[0].x,t[0].y,t[0].x,t[0].y);default:if(t[0]instanceof h.VecN){const[s,e,i,r]=t[0].values;return new n.Vec4(s,e,i,r)}throw new Error(`Unexpected vec4 argument: ${t[0]}`)}case 2:if(t[0]instanceof r.Vec3){const s=t[0];return new n.Vec4(s.x,s.y,s.z,t[1])}{const[s,e]=t;return new n.Vec4(s,e,s,e)}case 3:return new n.Vec4(t[0],t[1],t[2],1);default:return new n.Vec4(t[0],t[1],t[2],t[3])}},s.vecn=((...t)=>new h.VecN(t)),s.vec=function(...t){switch(t.length){case 2:return new i.Vec2(t[0],t[1]);case 3:return new r.Vec3(t[0],t[1],t[2]);case 4:return new n.Vec4(t[0],t[1],t[2],t[3]);default:return new h.VecN(t)}},s.mat4=function(...t){if(0===t.length)return new _.Matrix4;if("number"==typeof t[0]){if(1===t.length)return _.Matrix4.scale(t[0]);if(16===t.length)return new _.Matrix4(new Float32Array(t))}if(t[0]instanceof Float32Array)return new _.Matrix4(t[0]);if(t[0]instanceof n.Vec4&&4===t.length){const[s,e,i,r]=t;return new _.Matrix4(new Float32Array([s.x,s.y,s.z,s.w,e.x,e.y,e.z,e.w,i.x,i.y,i.z,i.w,r.x,r.y,r.z,r.w]))}throw new Error(`Unexpected arguments for mat4: ${t}`)}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2);class r{constructor(t=0,s=0){this.x=t,this.y=s,this.dims=2}add(t){return new r(this.x+t.x,this.y+t.y)}sub(t){return new r(this.x-t.x,this.y-t.y)}mul(t){return new r(this.x*t.x,this.y*t.y)}times(t){return new r(this.x*t,this.y*t)}div(t){return new r(this.x/t.x,this.y/t.y)}dot(t){return this.x*t.x+this.y*t.y}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}normalize(){return this.times(1/this.mag())}reflect(t){return t.times(2*this.dot(t)).sub(this)}addTimes(t,s){return new r(this.x+t.x*s,this.y+t.y*s)}equals(t,s=i.EPS){return Math.abs(this.x-t.x)<s&&Math.abs(this.y-t.y)<s}}s.Vec2=r},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2);class r{constructor(t=0,s=0,e=0){this.x=t,this.y=s,this.z=e,this.dims=3}add(t){return new r(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new r(this.x-t.x,this.y-t.y,this.z-t.z)}mul(t){return new r(this.x*t.x,this.y*t.y,this.z*t.z)}times(t){return new r(this.x*t,this.y*t,this.z*t)}div(t){return new r(this.x/t.x,this.y/t.y,this.z/t.z)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}mag(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)+Math.pow(this.z,2))}normalize(){return this.times(1/this.mag())}reflect(t){return t.times(2*this.dot(t)).sub(this)}addTimes(t,s){return new r(this.x+t.x*s,this.y+t.y*s,this.z+t.z*s)}equals(t,s=i.EPS){return Math.abs(this.x-t.x)<s&&Math.abs(this.y-t.y)<s&&Math.abs(this.z-t.z)<s}get r(){return this.x}set r(t){this.x=t}get g(){return this.y}set g(t){this.y=t}get b(){return this.z}set b(t){this.z=t}}s.Vec3=r},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(0);class r{constructor(t){if(void 0!==t){if(16!==t.length)throw new Error(`Matrix4 constructor requires a Float32Array with 16 elements, got ${t.length}`);this._m=t}else this._m=new Float32Array(16),this.identity()}identity(){return this._m.fill(0),this._m[0]=1,this._m[5]=1,this._m[10]=1,this._m[15]=1,this}fill(t){this._m.fill(t)}mul(t){const s=new r,e=t._m;return s._m[0]=this._m[0]*e[0]+this._m[1]*e[4]+this._m[2]*e[8]+this._m[3]*e[12],s._m[1]=this._m[0]*e[1]+this._m[1]*e[5]+this._m[2]*e[9]+this._m[3]*e[13],s._m[2]=this._m[0]*e[2]+this._m[1]*e[6]+this._m[2]*e[10]+this._m[3]*e[14],s._m[3]=this._m[0]*e[3]+this._m[1]*e[7]+this._m[2]*e[11]+this._m[3]*e[15],s._m[4]=this._m[4]*e[0]+this._m[5]*e[4]+this._m[6]*e[8]+this._m[7]*e[12],s._m[5]=this._m[4]*e[1]+this._m[5]*e[5]+this._m[6]*e[9]+this._m[7]*e[13],s._m[6]=this._m[4]*e[2]+this._m[5]*e[6]+this._m[6]*e[10]+this._m[7]*e[14],s._m[7]=this._m[4]*e[3]+this._m[5]*e[7]+this._m[6]*e[11]+this._m[7]*e[15],s._m[8]=this._m[8]*e[0]+this._m[9]*e[4]+this._m[10]*e[8]+this._m[11]*e[12],s._m[9]=this._m[8]*e[1]+this._m[9]*e[5]+this._m[10]*e[9]+this._m[11]*e[13],s._m[10]=this._m[8]*e[2]+this._m[9]*e[6]+this._m[10]*e[10]+this._m[11]*e[14],s._m[11]=this._m[8]*e[3]+this._m[9]*e[7]+this._m[10]*e[11]+this._m[11]*e[15],s._m[12]=this._m[12]*e[0]+this._m[13]*e[4]+this._m[14]*e[8]+this._m[15]*e[12],s._m[13]=this._m[12]*e[1]+this._m[13]*e[5]+this._m[14]*e[9]+this._m[15]*e[13],s._m[14]=this._m[12]*e[2]+this._m[13]*e[6]+this._m[14]*e[10]+this._m[15]*e[14],s._m[15]=this._m[12]*e[3]+this._m[13]*e[7]+this._m[14]*e[11]+this._m[15]*e[15],s}translate(t){const s=new Float32Array(this._m);return s[3]=this._m[3]+this._m[0]*t.x+this._m[1]*t.y+this._m[2]*t.z,s[7]=this._m[7]+this._m[4]*t.x+this._m[5]*t.y+this._m[6]*t.z,s[11]=this._m[11]+this._m[8]*t.x+this._m[9]*t.y+this._m[10]*t.z,s[15]=this._m[15]+this._m[12]*t.x+this._m[13]*t.y+this._m[14]*t.z,this._m=s,this}rotateX(t){const s=new Float32Array(16),e=Math.cos(t),i=Math.sin(t);return s[0]=this._m[0],s[1]=this._m[1]*e+this._m[2]*i,s[2]=this._m[2]*e-this._m[1]*i,s[3]=this._m[3],s[4]=this._m[4],s[5]=this._m[5]*e+this._m[6]*i,s[6]=this._m[6]*e-this._m[5]*i,s[7]=this._m[7],s[8]=this._m[8],s[9]=this._m[9]*e+this._m[10]*i,s[10]=this._m[10]*e-this._m[9]*i,s[11]=this._m[11],s[12]=this._m[12],s[13]=this._m[13]*e+this._m[14]*i,s[14]=this._m[14]*e-this._m[13]*i,s[15]=this._m[15],this._m=s,this}rotateY(t){const s=new Float32Array(16),e=Math.cos(t),i=Math.sin(t);return s[0]=this._m[0]*e-this._m[2]*i,s[1]=this._m[1],s[2]=this._m[2]*e+this._m[0]*i,s[3]=this._m[3],s[4]=this._m[4]*e-this._m[6]*i,s[5]=this._m[5],s[6]=this._m[6]*e+this._m[4]*i,s[7]=this._m[7],s[8]=this._m[8]*e-this._m[10]*i,s[9]=this._m[9],s[10]=this._m[10]*e+this._m[8]*i,s[11]=this._m[11],s[12]=this._m[12]*e-this._m[14]*i,s[13]=this._m[13],s[14]=this._m[14]*e+this._m[12]*i,s[15]=this._m[15],this._m=s,this}rotateZ(t){const s=new Float32Array(16),e=Math.cos(t),i=Math.sin(t);return s[0]=this._m[0]*e+this._m[1]*i,s[1]=this._m[1]*e-this._m[0]*i,s[2]=this._m[2],s[3]=this._m[3],s[4]=this._m[4]*e+this._m[5]*i,s[5]=this._m[5]*e-this._m[4]*i,s[6]=this._m[6],s[7]=this._m[7],s[8]=this._m[8]*e+this._m[9]*i,s[9]=this._m[9]*e-this._m[8]*i,s[10]=this._m[10],s[11]=this._m[11],s[12]=this._m[12]*e+this._m[13]*i,s[13]=this._m[13]*e-this._m[12]*i,s[14]=this._m[14],s[15]=this._m[15],this._m=s,this}transform(t){const s=t instanceof i.Vec4?t.w:1;return new i.Vec4(this._m[0]*t.x+this._m[1]*t.y+this._m[2]*t.z+this._m[3]*s,this._m[4]*t.x+this._m[5]*t.y+this._m[6]*t.z+this._m[7]*s,this._m[8]*t.x+this._m[9]*t.y+this._m[10]*t.z+this._m[11]*s,this._m[12]*t.x+this._m[13]*t.y+this._m[14]*t.z+this._m[15]*s)}det(){return this._m[1]*this._m[11]*this._m[14]*this._m[4]-this._m[1]*this._m[10]*this._m[15]*this._m[4]-this._m[11]*this._m[13]*this._m[2]*this._m[4]+this._m[10]*this._m[13]*this._m[3]*this._m[4]-this._m[0]*this._m[11]*this._m[14]*this._m[5]+this._m[0]*this._m[10]*this._m[15]*this._m[5]+this._m[11]*this._m[12]*this._m[2]*this._m[5]-this._m[10]*this._m[12]*this._m[3]*this._m[5]-this._m[1]*this._m[11]*this._m[12]*this._m[6]+this._m[0]*this._m[11]*this._m[13]*this._m[6]+this._m[1]*this._m[10]*this._m[12]*this._m[7]-this._m[0]*this._m[10]*this._m[13]*this._m[7]-this._m[15]*this._m[2]*this._m[5]*this._m[8]+this._m[14]*this._m[3]*this._m[5]*this._m[8]+this._m[1]*this._m[15]*this._m[6]*this._m[8]-this._m[13]*this._m[3]*this._m[6]*this._m[8]-this._m[1]*this._m[14]*this._m[7]*this._m[8]+this._m[13]*this._m[2]*this._m[7]*this._m[8]+this._m[15]*this._m[2]*this._m[4]*this._m[9]-this._m[14]*this._m[3]*this._m[4]*this._m[9]-this._m[0]*this._m[15]*this._m[6]*this._m[9]+this._m[12]*this._m[3]*this._m[6]*this._m[9]+this._m[0]*this._m[14]*this._m[7]*this._m[9]-this._m[12]*this._m[2]*this._m[7]*this._m[9]}invert(){const t=this.det(),s=new r;return s._m[0]=(-this._m[11]*this._m[14]*this._m[5]+this._m[10]*this._m[15]*this._m[5]+this._m[11]*this._m[13]*this._m[6]-this._m[10]*this._m[13]*this._m[7]-this._m[15]*this._m[6]*this._m[9]+this._m[14]*this._m[7]*this._m[9])/t,s._m[1]=(this._m[1]*this._m[11]*this._m[14]-this._m[1]*this._m[10]*this._m[15]-this._m[11]*this._m[13]*this._m[2]+this._m[10]*this._m[13]*this._m[3]+this._m[15]*this._m[2]*this._m[9]-this._m[14]*this._m[3]*this._m[9])/t,s._m[2]=(-this._m[15]*this._m[2]*this._m[5]+this._m[14]*this._m[3]*this._m[5]+this._m[1]*this._m[15]*this._m[6]-this._m[13]*this._m[3]*this._m[6]-this._m[1]*this._m[14]*this._m[7]+this._m[13]*this._m[2]*this._m[7])/t,s._m[3]=(this._m[11]*this._m[2]*this._m[5]-this._m[10]*this._m[3]*this._m[5]-this._m[1]*this._m[11]*this._m[6]+this._m[1]*this._m[10]*this._m[7]+this._m[3]*this._m[6]*this._m[9]-this._m[2]*this._m[7]*this._m[9])/t,s._m[4]=(this._m[11]*this._m[14]*this._m[4]-this._m[10]*this._m[15]*this._m[4]-this._m[11]*this._m[12]*this._m[6]+this._m[10]*this._m[12]*this._m[7]+this._m[15]*this._m[6]*this._m[8]-this._m[14]*this._m[7]*this._m[8])/t,s._m[5]=(-this._m[0]*this._m[11]*this._m[14]+this._m[0]*this._m[10]*this._m[15]+this._m[11]*this._m[12]*this._m[2]-this._m[10]*this._m[12]*this._m[3]-this._m[15]*this._m[2]*this._m[8]+this._m[14]*this._m[3]*this._m[8])/t,s._m[6]=(this._m[15]*this._m[2]*this._m[4]-this._m[14]*this._m[3]*this._m[4]-this._m[0]*this._m[15]*this._m[6]+this._m[12]*this._m[3]*this._m[6]+this._m[0]*this._m[14]*this._m[7]-this._m[12]*this._m[2]*this._m[7])/t,s._m[7]=(-this._m[11]*this._m[2]*this._m[4]+this._m[10]*this._m[3]*this._m[4]+this._m[0]*this._m[11]*this._m[6]-this._m[0]*this._m[10]*this._m[7]-this._m[3]*this._m[6]*this._m[8]+this._m[2]*this._m[7]*this._m[8])/t,s._m[8]=(-this._m[11]*this._m[13]*this._m[4]+this._m[11]*this._m[12]*this._m[5]-this._m[15]*this._m[5]*this._m[8]+this._m[13]*this._m[7]*this._m[8]+this._m[15]*this._m[4]*this._m[9]-this._m[12]*this._m[7]*this._m[9])/t,s._m[9]=(-this._m[1]*this._m[11]*this._m[12]+this._m[0]*this._m[11]*this._m[13]+this._m[1]*this._m[15]*this._m[8]-this._m[13]*this._m[3]*this._m[8]-this._m[0]*this._m[15]*this._m[9]+this._m[12]*this._m[3]*this._m[9])/t,s._m[10]=(-this._m[1]*this._m[15]*this._m[4]+this._m[13]*this._m[3]*this._m[4]+this._m[0]*this._m[15]*this._m[5]-this._m[12]*this._m[3]*this._m[5]+this._m[1]*this._m[12]*this._m[7]-this._m[0]*this._m[13]*this._m[7])/t,s._m[11]=(this._m[1]*this._m[11]*this._m[4]-this._m[0]*this._m[11]*this._m[5]+this._m[3]*this._m[5]*this._m[8]-this._m[1]*this._m[7]*this._m[8]-this._m[3]*this._m[4]*this._m[9]+this._m[0]*this._m[7]*this._m[9])/t,s._m[12]=(this._m[10]*this._m[13]*this._m[4]-this._m[10]*this._m[12]*this._m[5]+this._m[14]*this._m[5]*this._m[8]-this._m[13]*this._m[6]*this._m[8]-this._m[14]*this._m[4]*this._m[9]+this._m[12]*this._m[6]*this._m[9])/t,s._m[13]=(this._m[1]*this._m[10]*this._m[12]-this._m[0]*this._m[10]*this._m[13]-this._m[1]*this._m[14]*this._m[8]+this._m[13]*this._m[2]*this._m[8]+this._m[0]*this._m[14]*this._m[9]-this._m[12]*this._m[2]*this._m[9])/t,s._m[14]=(this._m[1]*this._m[14]*this._m[4]-this._m[13]*this._m[2]*this._m[4]-this._m[0]*this._m[14]*this._m[5]+this._m[12]*this._m[2]*this._m[5]-this._m[1]*this._m[12]*this._m[6]+this._m[0]*this._m[13]*this._m[6])/t,s._m[15]=(-this._m[1]*this._m[10]*this._m[4]+this._m[0]*this._m[10]*this._m[5]-this._m[2]*this._m[5]*this._m[8]+this._m[1]*this._m[6]*this._m[8]+this._m[2]*this._m[4]*this._m[9]-this._m[0]*this._m[6]*this._m[9])/t,s}static scale(...t){let s,e,i;1===t.length&&("number"==typeof t[0]?(e=s=t[0],i=s):(s=t[0].x,e=t[0].y,i=t[0].z));const n=new r;return n._m[0]=s,n._m[5]=e,n._m[10]=i,n._m[15]=1,n}static perspective(t,s,e,i){const n=new r,h=Math.tan(t/2),_=e-i;return n._m[0]=1/(h*s),n._m[5]=1/h,n._m[10]=(-e-i)/_,n._m[11]=2*i*e/_,n._m[14]=1,n._m[15]=0,n}static screenSpace(t,s){const e=new r,i=t/2,n=s/2;return e._m[0]=i,e._m[3]=i,e._m[5]=n,e._m[7]=n,e}static translation(t){const s=new r;return s._m[3]=t.x,s._m[7]=t.y,s._m[11]=t.z,s}}s.Matrix4=r},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(1);s.VaryingInterpolator=class{constructor(t,...s){this._varyings=new Map,this._vertices=s,this._VAO=t}stepX(t){return t.current=i.interpolableAdd(t.current,t.x_step)}get varyings(){return this._varyings}get VAO(){return this._VAO}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(0);function r(t){return new i.Vec4((t>>16&255)/255,(t>>8&255)/255,(255&t)/255,1)}s.hexToColor=r,s.colors={transparent:new i.Vec4(0,0,0,0),black:r(0),white:r(16777215),red:r(16711680),green:r(65280),blue:r(255),yellow:r(16776960),cyan:r(65535),pink:r(16711935),orange:r(16747520),rand:()=>r(Math.floor(16777216*Math.random())),css:void 0},"undefined"!=typeof window&&(s.colors.css=function(t=100){const s=document.createElement("canvas");s.width=1,s.height=1;const e=s.getContext("2d"),r=new Map;return s=>{if(r.has(s))return r.get(s);e.fillStyle=s,e.fillRect(0,0,1,1),e.fill();const[n,h,_,m]=e.getImageData(0,0,1,1).data,a=new i.Vec4(n/255,h/255,_/255,m/255);return r.size===t&&r.delete(r.keys().next().value),r.set(s,a),a}}())},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(2);class r{constructor(t){if(t.length<4)throw new Error(`Cannot construct a VecN with less than 4 elements, got : ${t}`);this._values=t instanceof Float32Array?t:new Float32Array(t),this._dims=t.length}add(t){const s=new r(this._values);for(let e=0;e<this._dims;e++)s._values[e]+=t._values[e];return s}sub(t){const s=new r(this._values);for(let e=0;e<this._dims;e++)s._values[e]-=t._values[e];return s}mul(t){const s=new r(this._values);for(let e=0;e<this._dims;e++)s._values[e]*=t._values[e];return s}times(t){const s=new r(this._values);for(let e=0;e<this._dims;e++)s._values[e]*=t;return s}div(t){const s=new r(this._values);for(let e=0;e<this._dims;e++)s._values[e]/=t._values[e];return s}dot(t){let s=0;for(let e=0;e<this._dims;e++)s+=this._values[e]*t._values[e];return s}mag(){let t=0;for(let s=0;s<this._dims;s++)t+=Math.pow(this._values[s],2);return Math.sqrt(t)}normalize(){return this.times(1/this.mag())}reflect(t){return t.times(2*this.dot(t)).sub(this)}addTimes(t,s){const e=new r(this._values);for(let i=0;i<this._dims;i++)e._values[i]=e._values[i]+t._values[i]*s;return e}equals(t,s=i.EPS){if(this._dims!==t._dims)return!1;for(let e=0;e<this._dims;e++)if(Math.abs(this._values[e]-t._values[e])>s)return!1;return!0}get dims(){return this._dims}get values(){return this._values}set values(t){this._values=t,this._dims=t.length}get r(){return this._values[0]}get x(){return this._values[0]}set r(t){this._values[0]=t}set x(t){this._values[0]=t}get g(){return this._values[1]}get y(){return this._values[1]}set g(t){this._values[1]=t}set y(t){this._values[1]=t}get b(){return this._values[2]}get z(){return this._values[2]}set b(t){this._values[2]=t}set z(t){this._values[2]=t}get a(){return this._values[3]}get w(){return this._values[3]}set a(t){this._values[3]=t}set w(t){this._values[3]=t}}s.VecN=r},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(1);s.Edge=class{constructor(t,s,e){this._y_start=Math.ceil(t.ndc.y),this._y_end=Math.ceil(s.ndc.y),this._interpolator=e,this._varyings=new Map,this._varying_names=[...e.varyings.keys()],this._from=t,this._to=s;const r=this._y_start-t.ndc.y;this._x_step=(t.ndc.x-s.ndc.x)/(t.ndc.y-s.ndc.y),this._x=t.ndc.x+r*this._x_step;const n=this._x-t.ndc.x;for(let s=0;s<this._varying_names.length;s++){const h=this._varying_names[s],_=e.varyings.get(h);this._varyings.set(h,{current:i.interpolableAddTimes(i.interpolableAddTimes(e.VAO.varyings.get(h)[t.index],_.x_step,n),_.y_step,r),step:i.interpolableAddTimes(_.y_step,_.x_step,this._x_step)})}}step(){this._x+=this._x_step;for(let t=0;t<this._varying_names.length;t++){const s=this._varying_names[t],e=this._varyings.get(s);e.current=i.interpolableAdd(e.current,e.step)}}get x(){return this._x}get y_start(){return this._y_start}get y_end(){return this._y_end}get from(){return this._from}get to(){return this._to}get varyings(){return this._varyings}get gradient(){return this._interpolator}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(9);s.VaryingInterpolator2=class extends i.VaryingInterpolator{constructor(t,s,e){super(e,t,s),this._inv_dx=1/(s.ndc.x-t.ndc.x),this._inv_dy=1/(s.ndc.y-t.ndc.y),this._computeGradients()}_computeGradients(){for(const t in this._vertices[0].varyings){const s=this._VAO.varyings.get(t),e=s[this._vertices[0].index],i=s[this._vertices[1].index];"number"==typeof e?this._varyings.set(t,this._computeFloatGradient(e,i)):this._varyings.set(t,this._computeVecGradient(e,i))}}_computeFloatGradient(t,s){return{x_step:(s-t)*this._inv_dx,y_step:(s-t)*this._inv_dy}}_computeVecGradient(t,s){return{x_step:s.sub(t).times(this._inv_dx),y_step:s.sub(t).times(this._inv_dy)}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(1),r=e(9);s.VaryingInterpolator3=class extends r.VaryingInterpolator{constructor(t,s,e,i){super(i,t,s,e),this._inv_dx=1/((s.ndc.x-e.ndc.x)*(t.ndc.y-e.ndc.y)-(t.ndc.x-e.ndc.x)*(s.ndc.y-e.ndc.y)),this._inv_dy=-this._inv_dx,this._computeGradients()}_computeGradients(){const t=this._vertices[0].ndc.w,s=this._vertices[1].ndc.w,e=this._vertices[2].ndc.w;for(const r of this._VAO.varyingNames){const n=this._VAO.varyings.get(r);"__ndc"!==r&&(n[this._vertices[0].index]=i.interpolableTimes(n[this._vertices[0].index],t),n[this._vertices[1].index]=i.interpolableTimes(n[this._vertices[1].index],s),n[this._vertices[2].index]=i.interpolableTimes(n[this._vertices[2].index],e));let h=n[this._vertices[0].index],_=n[this._vertices[1].index],m=n[this._vertices[2].index];"number"==typeof h?this._varyings.set(r,this._computeFloatGradient(h,_,m)):this._varyings.set(r,this._computeVecGradient(h,_,m))}}_computeFloatGradient(t,s,e){return{x_step:(s-e)*(this._vertices[0].ndc.y-this._vertices[2].ndc.y)-(t-e)*(this._vertices[1].ndc.y-this._vertices[2].ndc.y)*this._inv_dx,y_step:(s-e)*(this._vertices[0].ndc.x-this._vertices[2].ndc.x)-(t-e)*(this._vertices[1].ndc.x-this._vertices[2].ndc.x)*this._inv_dy}}_computeVecGradient(t,s,e){const i=this._vertices[0].ndc.y-this._vertices[2].ndc.y,r=this._vertices[1].ndc.y-this._vertices[2].ndc.y,n=s.sub(e),h=t.sub(e),_=n.times(i).sub(h.times(r)).times(this._inv_dx),m=this._vertices[0].ndc.x-this._vertices[2].ndc.x,a=this._vertices[1].ndc.x-this._vertices[2].ndc.x;return{x_step:_,y_step:n.times(m).sub(h.times(a)).times(this._inv_dy)}}}},function(t,s,e){"use strict";var i=this&&this.__awaiter||function(t,s,e,i){return new(e||(e=Promise))(function(r,n){function h(t){try{m(i.next(t))}catch(t){n(t)}}function _(t){try{m(i.throw(t))}catch(t){n(t)}}function m(t){t.done?r(t.value):new e(function(s){s(t.value)}).then(h,_)}m((i=i.apply(t,s||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const r=e(16),n=e(22),h=e(23);(()=>i(this,void 0,void 0,function*(){const t=yield(yield fetch("./res/models/suzanne.obj")).text(),s={triangle:r.default(800,600),suzanne:h.default(t,800,600)},e=new n.CanvasRenderingTarget,_=document.createElement("select");document.body.appendChild(_),document.body.appendChild(document.createElement("br"));for(const t of Object.keys(s)){const s=document.createElement("option");s.value=t,s.text=t,_.appendChild(s)}function m(t){return i(this,void 0,void 0,function*(){const s=yield t;e.init(s.width,s.height),e.draw(s)})}_.addEventListener("change",()=>i(this,void 0,void 0,function*(){const t=_.options[_.selectedIndex].value;yield m(s[t])})),yield m(s.triangle),document.body.appendChild(e.domElement)}))()},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(3);s.default=function(t,s){return new Promise((e,r)=>{try{const n=new i.Context(t,s,{draw:t=>{e(t)}}),h={vertices:[i.vec3(-1,-1,2),i.vec3(1,-1,2),i.vec3(0,1,2)],indices:new Uint8Array([0,1,2]),attributes:{color:[i.colors.red,i.colors.green,i.colors.blue]}},_=i.VertexArray.fromModel(h),m=i.Matrix4.perspective(i.radians(70),n.width/n.height,.1,1e3);_.setUniform("mvp",m),n.useProgram({vertex_shader:t=>(t.varyings.color=t.attributes.color,t.uniforms.mvp.transform(t.position)),fragment_shader:(t,s)=>t.color}),n.bindVertexArray(_),n.clear(i.colors.black),n.drawElements(i.DrawingMode.TRIANGLES,0,h.indices.length),n.draw()}catch(t){r(t)}})}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(4),r=e(12),n=e(1),h=e(8),_=e(0),m=e(13),a=e(14);var c;!function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.TRIANGLES=2]="TRIANGLES"}(c=s.DrawingMode||(s.DrawingMode={}));s.Context=class extends i.Bitmap{constructor(t,s,e,i){super(t,s),this._target=e,this._initOptions(i),this._screen_space_matrix=h.Matrix4.screenSpace(t,s)}initDepthBuffer(){this._options.depth_test&&(this._depth_buffer=new Float32Array(this._width*this._height),this._depth_buffer.fill(1/0))}_initOptions(t={}){this._options=Object.assign({depth_test:!0,backface_culling:!0},t),void 0!==this._target.init&&this._target.init(this._width,this._height),this.initDepthBuffer()}_perspectiveTransform(t){const s=this._program.vertex_shader(t),e=this._screen_space_matrix.transform(s),i=new _.Vec4(e.x/e.w,e.y/e.w,e.z/e.w,1/e.w);return t.varyings.__ndc=i,{ndc:i,varyings:t.varyings,index:t.index}}_shouldDrawFragment(t,s,e){if(this._options.depth_test){const i=t+s*this._width;if(e>this._depth_buffer[i])return!1;this._depth_buffer[i]=e}return!0}_scanLine(t,s,e){t=Math.ceil(t);const i=Math.ceil(s.x),r=Math.ceil(e.x),h=i-s.x;this._initVaryings(s,h),this._current_varyings={};const _=this._current_gradient.varyings.get("__ndc");let m;for(let s=i;s<r;s++){this._current_gradient.stepX(_),m=1/_.current.w;for(const t of this._vertex_array.varyingNames){if("__ndc"===t)continue;const s=this._current_gradient.varyings.get(t);this._current_varyings[t]=n.interpolableTimes(this._current_gradient.stepX(s),m)}this._shouldDrawFragment(s,t,_.current.z)&&this._set(s,t,this._program.fragment_shader(this._current_varyings,this._vertex_array.uniforms))}}_initVaryings(t,s){for(const e of this._vertex_array.varyingNames){const i=this._current_gradient.varyings.get(e);i.current=n.interpolableAdd(t.varyings.get(e).current,n.interpolableTimes(i.x_step,s))}}_strokeEdge(t){const s=t.from,e=t.to,i=Math.ceil(s.ndc.x),r=Math.ceil(s.ndc.y),n=Math.ceil(e.ndc.x),h=Math.ceil(e.ndc.y),_=Math.abs(n-i),m=Math.abs(h-r),a=i<n?1:-1,c=r<h?1:-1;let o=_-m;this._current_gradient=t.gradient;const u=i-s.ndc.x;this._initVaryings(t,u);let d=i,l=r;const y={};for(;d!==n||l!==h;){for(const[t,s]of this._current_gradient.varyings)this._current_gradient.stepX(s),y[t]=s.current;const t=2*o;t>-m&&(o-=m,d+=a),t<_&&(o+=_,l+=c)}}_drawLines(t,s){for(let e=t;e<t+s;e+=2){const t=this._perspectiveTransform(this._vertex_array.at(e)),s=this._perspectiveTransform(this._vertex_array.at(e+1));this._strokeEdge(new r.Edge(t,s,new m.VaryingInterpolator2(t,s,this._vertex_array)))}}_drawLinesIndexed(t,s){const e=this._vertex_array.indices;for(let i=t;i<t+s;i+=2){const t=this._perspectiveTransform(this._vertex_array.at(e[i])),s=this._perspectiveTransform(this._vertex_array.at(e[i+1]));this._strokeEdge(new r.Edge(t,s,new m.VaryingInterpolator2(t,s,this._vertex_array)))}}_drawTriangles(t,s,e){for(let i=t;i<t+s;i+=3){const t=this._perspectiveTransform(this._vertex_array.at(i)),s=this._perspectiveTransform(this._vertex_array.at(i+1)),r=this._perspectiveTransform(this._vertex_array.at(i+2));e?this._strokeTriangle(t,s,r):this._fillTriangle(t,s,r)}}_drawTrianglesIndexed(t,s,e){const i=this._vertex_array.indices;for(let r=t+s-1;r>=0;r-=3){const t=this._perspectiveTransform(this._vertex_array.at(i[r-2])),s=this._perspectiveTransform(this._vertex_array.at(i[r-1])),n=this._perspectiveTransform(this._vertex_array.at(i[r]));e?this._strokeTriangle(t,s,n):this._fillTriangle(t,s,n)}}_strokeTriangle(t,s,e){this._strokeEdge(new r.Edge(t,s,new m.VaryingInterpolator2(t,s,this._vertex_array))),this._strokeEdge(new r.Edge(t,e,new m.VaryingInterpolator2(t,e,this._vertex_array))),this._strokeEdge(new r.Edge(s,e,new m.VaryingInterpolator2(s,e,this._vertex_array)))}_fillTriangle(t,s,e){if(this._options.backface_culling&&n.parallelogramArea(t.ndc,s.ndc,e.ndc)<0)return;let i=!1;e.ndc.y<s.ndc.y&&([e,s]=[s,e],i=!i),s.ndc.y<t.ndc.y&&([s,t]=[t,s],i=!i),e.ndc.y<s.ndc.y&&([e,s]=[s,e],i=!i);const h=new a.VaryingInterpolator3(t,s,e,this._vertex_array);this._current_gradient=h;const _=new r.Edge(t,e,h);this._scanEdges(_,new r.Edge(t,s,h),i),this._scanEdges(_,new r.Edge(s,e,h),i)}_scanEdges(t,s,e){let i=t,r=s;const n=s.y_start,h=s.y_end;e&&([i,r]=[r,i]);for(let t=n;t<h;t++)this._scanLine(t,i,r),i.step(),r.step()}drawArrays(t,s,e,i=!1){switch(t){case c.LINES:this._drawLines(s,e);break;case c.TRIANGLES:this._drawTriangles(s,e,i);break;default:throw new Error(`Drawing mode ${t} not implemented yet`)}this.draw()}drawElements(t,s,e,i=!1){if(!this._vertex_array.indexed)throw new Error("Cannot draw elements: indices not defined in bound vertex array");switch(t){case c.LINES:this._drawLinesIndexed(s,e);break;case c.TRIANGLES:this._drawTrianglesIndexed(s,e,i);break;default:throw new Error(`Drawing mode ${t} not implemented yet`)}this.draw()}useProgram(t){this._program=t}bindVertexArray(t){this._vertex_array=t}_clearDepthBuffer(){this._options.depth_test&&this._depth_buffer.fill(1/0)}clearBuffers(){this._clearDepthBuffer()}draw(){this._target.draw(this)}get options(){return this._options}resize(t,s){super.resize(t,s),this.initDepthBuffer(),this._screen_space_matrix=h.Matrix4.screenSpace(t,s),void 0!==this._target.resize&&this._target.resize(t,s)}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.Clock=class{constructor(){this.last_tick=Date.now()}getDelta(){const t=Date.now(),s=t-this.last_tick;return this.last_tick=t,s}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(6),r=e(7),n=e(5);!function(t){const s=t=>{const s=t.substr(2).split(" ").map(t=>parseFloat(t));return new r.Vec3(s[0],1-s[1],s[2])},e=t=>{const s=t.substr(3).split(" ").map(t=>parseFloat(t));return new i.Vec2(s[0],s[1])},h=t=>{const s=t.substr(3).split(" ").map(t=>parseFloat(t));return new r.Vec3(s[0],s[1],s[2])};t.parseOBJ=(t=>{const i=t.split("\n"),r=[],_=[],m=[],a=[],c=new Map;let o=0;const u={vertices:[],indices:null,attributes:{uv:[],normal:[]},bounding_box:{min:n.vec3(1/0),max:n.vec3(0)}};for(let t of i)switch((t=t.trim()).charAt(0)){case"v":switch(t.charAt(1)){case" ":const i=s(t);i.x>u.bounding_box.max.x&&(u.bounding_box.max.x=i.x),i.y>u.bounding_box.max.y&&(u.bounding_box.max.y=i.y),i.z>u.bounding_box.max.z&&(u.bounding_box.max.z=i.z),i.x<u.bounding_box.min.x&&(u.bounding_box.min.x=i.x),i.y<u.bounding_box.min.y&&(u.bounding_box.min.y=i.y),i.z<u.bounding_box.min.z&&(u.bounding_box.min.z=i.z),r.push(i);break;case"t":_.push(e(t));break;case"n":m.push(h(t))}break;case"f":const i=t.substr(2).split(" ");let n=[];for(const t of i){if(c.has(t)){n.push(c.get(t));continue}const[s,e,i]=t.split("/").map(t=>parseInt(t)-1);u.vertices.push(r[s]),void 0!==e&&u.attributes.uv.push(_[e]),void 0!==i&&u.attributes.normal.push(m[i]),c.set(t,o),n.push(o),o++}if(4===i.length){const t=n[3];n[3]=n[2],n[4]=t,n[5]=n[0]}a.push(...n)}return u.indices=o<256?new Uint8Array(a):o<65536?new Uint16Array(a):new Uint32Array(a),u})}(s.ModelLoader||(s.ModelLoader={}))},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(4);s.Texture=class extends i.Bitmap{constructor(t,s){super(t,s)}at(t){return super.read(Math.floor(t.x*this._width),Math.floor(t.y*this._height))}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});class i{constructor(t){this._vertices=t,this._attributes=new Map,this._varyings=new Map,this._varying_names=[],this._uniforms={},this._current_idx=0,this._attribute_accessor=new Proxy({},{get:(t,s)=>{if("string"==typeof s&&"inspect"!==s){if(this._attributes.has(s))return this._attributes.get(s)[this._current_idx];throw new Error(`Undefined attribute: ${s}`)}}}),this._varying_setter=new Proxy({},{set:(t,s,e)=>{const i=this._varyings.get(s);if(void 0===i){const t=[];t[this._current_idx]=e,this._varyings.set(s,t),this._varying_names.push(s)}else i[this._current_idx]=e;return t[s]=e,!0}})}at(t){return this._current_idx=t,{position:this._vertices[t],attributes:this._attribute_accessor,uniforms:this._uniforms,varyings:this._varying_setter,index:t}}addAttribute(t,s){if(s.length<this._vertices.length)throw new Error(`Not enough data for attribute ${t}`);this._attributes.set(t,s)}setUniform(t,s){this._uniforms[t]=s}indexed(){return void 0!==this._indices}get indices(){return this._indices}set indices(t){this._indices=t}get varyings(){return this._varyings}get varyingNames(){return this._varying_names}get uniforms(){return this._uniforms}static fromModel(t){const s=new i(t.vertices);void 0!==t.indices&&(s.indices=t.indices);for(const e in t.attributes){const i=t.attributes[e];void 0!==i&&s.addAttribute(e,i)}return s}get vertexCount(){return this._vertices.length}}s.VertexArray=i},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.CanvasRenderingTarget=class{constructor(){this._ctx=document.createElement("canvas").getContext("2d")}init(t,s){this.resize(t,s)}resize(t,s){this._ctx.canvas.width=t,this._ctx.canvas.height=s,this._img=new ImageData(t,s)}draw(t){if(t.width!==this._ctx.canvas.width||t.height!==this._ctx.canvas.height)throw new Error(`Cannot draw a ${t.width} by ${t.height} bitmap`+`on a ${this._ctx.canvas.width} by ${this._ctx.canvas.height} canvas, `+"consider resize the CanvasRenderingTarget before drawing");this._img.data.set(t.data),this._ctx.putImageData(this._img,0,0)}get domElement(){return this._ctx.canvas}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(3),r=e(24),n=(t,s,e,r,n,h)=>{const _=i.vec3(i.clamp(e.dot(h),0,1)).mul(t),m=n.sub(r).normalize(),a=e.reflect(h),c=i.vec3(Math.pow(Math.max(m.dot(a),0),128*s.shininess)).mul(s.specular);return s.ambient.add(_.add(c))};s.default=function(t,s=800,e=600){return new Promise((h,_)=>{try{const m=new i.Context(s,e,{draw:t=>{h(t)}}),a=i.ModelLoader.parseOBJ(t),c=i.VertexArray.fromModel(a),o=i.Matrix4.scale(1);o.translate(i.vec3(0,0,5)),o.rotateY(i.radians(200));const u=i.Matrix4.perspective(i.radians(70),m.width/m.height,.1,1e3);c.setUniform("model",o),c.setUniform("mvp",u.mul(o)),c.setUniform("material",r.materials.chrome),c.setUniform("light_dir",i.vec3(0,.5,-1).normalize()),c.setUniform("view_pos",i.vec3(0)),m.useProgram({vertex_shader:t=>{const s=t.uniforms.model,e=s.transform(i.vec4(t.attributes.normal,0)).normalize(),r=i.vec4(t.position),n=i.vec3(s.transform(r));return t.varyings.world_pos=n,t.varyings.normal=e,t.uniforms.mvp.transform(r)},fragment_shader:(t,s)=>{let e,r=s.material.diffuse;const h=t.normal.normalize();return e=n(r,s.material,s.light_dir,t.world_pos,s.view_pos,h),i.vec4(e)}}),m.bindVertexArray(c),m.clear(i.colors.black),m.drawElements(i.DrawingMode.TRIANGLES,0,a.indices.length),m.draw()}catch(t){_(t)}})}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=e(3);s.materials={emerald:{ambient:i.vec3(.0215,.1745,.0215),diffuse:i.vec3(.07568,.61424,.07568),specular:i.vec3(.633,.727811,.633),shininess:.6},red_plastic:{ambient:i.vec3(0),diffuse:i.vec3(.5,0,0),specular:i.vec3(.7,.6,.6),shininess:.25},ruby:{ambient:i.vec3(.1745,.01175,.01175),diffuse:i.vec3(.61424,.04136,.04136),specular:i.vec3(.727811,.626959,.626959),shininess:.6},gold:{ambient:i.vec3(.24725,.1995,.0745),diffuse:i.vec3(.75164,.60648,.22648),specular:i.vec3(.628281,.555802,.366065),shininess:.4},obsidian:{ambient:i.vec3(.05375,.05,.06625),diffuse:i.vec3(.18275,.17,.22525),specular:i.vec3(.332741,.328634,.346435),shininess:.3},shiny_wood:{ambient:i.vec3(.2),diffuse:i.vec3(1),specular:i.vec3(.3),shininess:.4},green_rubber:{ambient:i.vec3(0,.05,0),diffuse:i.vec3(.4,.5,.4),specular:i.vec3(.04,.7,.04),shininess:.078125},chrome:{ambient:i.vec3(.25,.25,.25),diffuse:i.vec3(.4,.4,.4),specular:i.vec3(.774597,.774597,.774597),shininess:.6},copper:{ambient:i.vec3(.19125,.0735,.0225),diffuse:i.vec3(.7038,.27048,.0828),specular:i.vec3(.256777,.137622,.086014),shininess:.1},bronze:{ambient:i.vec3(.2125,.1275,.054),diffuse:i.vec3(.714,.4284,.18144),specular:i.vec3(.393548,.271906,.166721),shininess:.2}}}]);